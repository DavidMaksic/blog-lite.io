const e=[],t=[],s=function(e,t){localStorage.setItem("article-"+t,JSON.stringify(e))},a=function(e,t){localStorage.setItem("bookmark-"+t,JSON.stringify(e))},r=function(e){localStorage.removeItem("article-"+e)},o=function(e){localStorage.removeItem("bookmark-"+e)},l=function(t){e?.push(t),s(t,t?.id)},i=function(t){let s=e.filter(e=>e.title===t)[0];r(s.id);let a=e.indexOf(s);e.splice(a,1)},n=function(){let e=[],t=Object.keys(localStorage),s=0,a;for(;a=t[s];s++)e.push(a+"="+localStorage.getItem(a));return e},d=function(r){let[o]=e.filter(e=>e.title===r),l=e.indexOf(o),i=e[l];i.isBookmarked=!0;let n=i.id.toString();s(i,n);let[d]=e.filter(e=>e.title===r);t.push(d);let c=t.indexOf(d);t[c].rendered=void 0,t[c].bookmarkID=Math.round(8888888888*Math.random()+1111111111),a(d,d?.bookmarkID)},c=function(a){let[r]=e.filter(e=>e.title===a),l=e.indexOf(r),i=e[l];i.isBookmarked=!1;let n=i.id.toString();s(i,n);let[d]=t.filter(e=>e.title===a);o(d.bookmarkID);let c=t.indexOf(d);t.splice(c,1)},m=function(s){let[a]=t.filter(e=>e.title===s),[r]=e.filter(e=>e.title===s);e.indexOf(r),e.length,o(a.bookmarkID);let l=t.indexOf(a);t.splice(l,1)};!function(){let s=n(),a=s.filter(e=>!e.includes("selectedTheme=light")).filter(e=>!e.includes("selectedTheme=dark")).filter(e=>!e.includes("bookmark-")),r=a?.map(e=>e.slice(0,18));r?.forEach(t=>e.push(JSON.parse(localStorage.getItem(t))));let o=s.filter(e=>!e.includes("selectedTheme=light")).filter(e=>!e.includes("selectedTheme=dark")).filter(e=>!e.includes("article-")),l=o?.map(e=>e.slice(0,19));l?.forEach(e=>t.push(JSON.parse(localStorage.getItem(e))))}();class h{root=document.querySelector(":root");darkBtn=document.getElementById("dark-mode");dot=document.getElementById("dot");loadTheme(){document.addEventListener("DOMContentLoaded",()=>{let e=localStorage.getItem("selectedTheme");"dark"===e&&(this.root.classList.add("dark"),this.dot.classList.toggle("translate-x-6")),"light"===e&&this.root.classList.remove("dark"),e||localStorage.setItem("selectedTheme","light")})}toggleTheme(){this.darkBtn.addEventListener("click",()=>{this.root.classList.toggle("dark"),this.dot.classList.toggle("translate-x-6"),this.root.classList.contains("dark")&&localStorage.setItem("selectedTheme","dark"),this.root.classList.contains("dark")||localStorage.setItem("selectedTheme","light")})}}var k=new h;class g{form=document.getElementById("modal-content");publishModal=document.getElementById("modal");message=document.getElementById("message");clearMessage(){this.message?.classList.add("hidden")}addMessage(){this.message?.classList.remove("hidden")}togglePublishModal(){this.publishModal.classList.toggle("active")}}class p extends g{#e=document.getElementById("add-btn");#t=document.getElementById("exit-modal-btn");showPublishModal(){this.#e?.addEventListener("click",this.togglePublishModal.bind(this))}exitPublishModal(){let e=this;window.onkeydown=e=>{"Escape"===e.key&&this.publishModal.classList.contains("active")&&this.togglePublishModal()},this.publishModal?.addEventListener("click",this.togglePublishModal.bind(this)),this.form?.addEventListener("click",e=>e.stopPropagation()),this.#t?.addEventListener("click",function(){e.togglePublishModal()})}}var u=new p;class b extends g{dropdownParent=document.querySelector(".bookmark-parent");articleH2text;articles;deleteMessageOnLoad(e){e.length>0&&this.clearMessage(),this.articles=e}deleteArticleMarkup(e,t){window.addEventListener("click",s=>{if(s.target.closest("#delete-btn")){let a=s.target.closest("#delete-btn"),r=a.closest(".article-element");this.articleH2text=r.querySelector(".article-h2").innerText;let o=r.querySelector(".article-h2"),l=r.querySelector(".delete-h3"),i=r.querySelector(".delete-p"),n=r.querySelector(".delete-span"),d=r.querySelector(".delete-img"),c=r.querySelector(".bookmarks"),m=c.querySelector(".bookmark-full"),h=[];if(h.push(o,l,i,n,a),h.map(e=>e.textContent=""),r.classList.add("max-h-0"),r.classList.contains("py-20")&&r.classList.remove("py-20"),r.classList.contains("pb-12")&&r.classList.remove("pb-12"),r.classList.contains("mt-10")&&r.classList.remove("mt-10"),r.classList.contains("md:pt-16")&&r.classList.remove("md:pt-16"),r.classList.contains("md:pb-10")&&r.classList.remove("md:pb-10"),r.classList.contains("sm:p-8")&&r.classList.remove("sm:p-8"),r.classList.contains("sm:pb-6")&&r.classList.remove("sm:pb-6"),r.classList.contains("sm:mt-6")&&r.classList.remove("sm:mt-6"),d.classList.add("opacity-0"),c.classList.add("opacity-0"),setTimeout(()=>{r.remove()},400),e(),!m.classList.contains("hidden")){let e=[...document.querySelectorAll(".dropdown-item")],s=e.map(e=>e?.querySelector(".bookmark-h2").textContent.trim()),[a]=s.filter(e=>e===this.articleH2text),[r]=e.filter(e=>e?.querySelector(".bookmark-h2").textContent.trim()===a);t(),r.remove();let[o]=e.filter(e=>e.querySelector(".bookmark-h2").textContent.trim()===this.articleH2text),l=e.indexOf(o);e.splice(l,1);let[i]=s.filter(e=>e===this.articleH2text),n=s.indexOf(i);s.splice(n,1),0===e.length&&this.renderBookmarkMessage()}0===this.articles.length&&this.addMessage()}})}renderBookmarkMessage(){this.dropdownParent?.insertAdjacentHTML("afterend",this.#s())}#s(){return`
         <span class="bookmark-message select-none border-2 border-slate-300 dark:border-transparent text-3xl text-slate-600 dark:text-slate-300 text-center bg-white dark:bg-slate-800 py-6 px-12 w-1/2 shadow-lg rounded-xl">You haven't saved any articles yet!</span>
      `}}var f=new b;class x extends g{#a=document.getElementById("btn-parent");article;upload(e){let t=this;this.form?.addEventListener("submit",function(s){s.preventDefault();let a=Object.fromEntries([...new FormData(this)]);t.togglePublishModal(),t.clearMessage(),t.article=a,t.article.date=t.#r(),t.article.id=t.#o(),t.#l(),t.render(a),e()})}#l(){document.querySelectorAll(".input-element").forEach(e=>e.value="")}#o(){return Math.round(8888888888*Math.random()+1111111111)}render(e){this.#a?.insertAdjacentHTML("afterend",this.#i(e))}#r(){let e=new Date,t=navigator.language;return new Intl.DateTimeFormat(t,{day:"numeric",month:"long",year:"numeric"}).format(e)}#i(e){return`    
         <article 
         id="${e.id}"
         class="article-element relative flex flex-col justify-self-center w-1/2 gap-8 px-24 py-20 pb-12 mt-10 2xl:w-2/3 xl:w-2/3 lg:w-3/4 md:pt-16 md:pb-10 md:px-12 md:w-full sm:gap-6 sm:mt-6 sm:p-8 sm:pb-6 sm:px-6 bg-[#ebeff5] dark:bg-slate-600 "
         style="transition: all 0.4s">
            <div class="flex flex-col gap-2 sm:gap-2">
               <h2 class="article-h2 text-7xl sm:text-6xl pb-2 sm:pb-0 bg-gradient-to-r from-slate-600 to-[#7a75aa] dark:from-slate-200 dark:to-[#d2cfe4]" style="
               background-clip: text;
               -webkit-text-fill-color: transparent;
               ">${e.title}
               </h2>
               <h3 class="delete-h3 text-3xl text-slate-400 dark:text-slate-400 sm:text-2xl">${e.description}
               </h3>
            </div>

            <div id="bookmarks" class="bookmarks absolute top-[-9px] right-6 2xl:top-[-10px] md:right-10 sm:top-[-9px] sm:right-1">
               <img class="bookmark-thin cursor-pointer w-14 h-14 2xl:w-16 2xl:h-16 sm:w-14 sm:h-14" src="../../src/img/bookmark.png" alt="">
               <img class="bookmark-full hidden cursor-pointer w-14 h-14 2xl:w-16 2xl:h-16 sm:w-14 sm:h-14" src="../../src/img/bookmark-filled.png" alt="">
            </div>
            
            <div
               class="a-div mt-2 sm:mt-0 h-[1px] bg-gradient-to-r from-slate-400 to-slate-200 to-100% dark:from-slate-400 dark:to-slate-600"
            ></div>

            <span class="delete-span mt-[-12px] sm:mt-[-20px] text-slate-500 dark:text-slate-300 sm:text-base">Posted on ${e.date}</span>


            <img class="delete-img"  src="${e.imageURL}" alt="">

            <p class="delete-p text-3xl sm:leading-7 whitespace-pre-line text-slate-600 dark:text-slate-100 sm:text-xl sm:text-slate-700" style="font-family: 'Cormorant Garamond', serif;">${e.content}
            </p>

            <div
                  class="h-[1px] bg-gradient-to-l from-slate-400 to-slate-200 to-100% dark:from-slate-400 dark:to-slate-600"
               ></div>


            <div class="flex justify-end gap-8 sm:mt-2">          
               <button
               id="delete-btn"
               class="delete-btn text-4xl sm:text-3xl sm:mt-[-16px] transition duration-150 border-b-2 dark:text-redhover hover:text-redhover text-red2 border-b-transparent hover:border-b-redhover"
               >
               Delete
            </button>
         </div>
         </article>
      `}}var L=new x;class v extends g{dropdownParent=document.querySelector(".bookmark-parent");dropdownBtn=document.querySelector(".dropdown-btn");bookmarkContainer=document.querySelector(".bookmark-container");dropdownItems=[];bookmarkH2s=[];articleH2;renderBookmarks(e){e.forEach(e=>{e.rendered||(this.#n(e),e.rendered=!0)})}toggleDropdown(e){let t=this;t.renderBookmarkMessage(),this.dropdownBtn?.addEventListener("click",function(){if(0===e.length){t.bookmarkContainer.classList.toggle("dropdown-active"),t.dropdownBtn.classList.add("focus:dark:brightness-150"),t.dropdownBtn.classList.add("focus:brightness-50"),t.exitDropdown();return}let s=document.querySelector(".bookmark-message");s?.remove(),t.bookmarkContainer.classList.toggle("dropdown-active"),t.dropdownBtn.classList.add("focus:dark:brightness-150"),t.dropdownBtn.classList.add("focus:brightness-50"),t.exitDropdown()})}renderBookmarkMessage(){this.dropdownParent?.insertAdjacentHTML("afterend",this.#s())}#s(){return`
         <span class="bookmark-message select-none border-2 border-slate-300 dark:border-transparent text-3xl text-slate-600 dark:text-slate-300 text-center bg-white dark:bg-slate-800 py-6 px-12 w-1/2 shadow-lg rounded-xl sm:w-full">You haven't saved any articles yet!</span>
      `}exitDropdown(){let e=this;this.bookmarkContainer.addEventListener("mouseleave",function(){e.bookmarkContainer.classList.remove("dropdown-active"),e.dropdownBtn.classList.remove("focus:dark:brightness-150"),e.dropdownBtn.classList.remove("focus:brightness-50")})}persistBookmarkIcon(e){let t=e.filter(e=>!0===e.isBookmarked).map(e=>e.id);[...document.getElementsByTagName("article")].map(e=>+e.id).filter(e=>t.includes(e)).map(e=>e.toString()).map(e=>{let t=document.getElementById(`${e}`),s=t.querySelector(".bookmark-thin"),a=t.querySelector(".bookmark-full");s.classList.add("hidden"),a.classList.remove("hidden"),t.classList.contains("dark:bg-slate-600")&&(t.classList.remove("dark:bg-slate-600"),t.classList.add("dark:bg-[#404d5f]")),t.classList.contains("bg-[#ebeff5]")&&(t.classList.remove("bg-[#ebeff5]"),t.classList.add("bg-slate-200"))})}createBookmark(e,t){window.addEventListener("click",s=>{if(s.target.closest("#bookmarks")){let a=s.target.closest("#bookmarks"),r=a.querySelector(".bookmark-thin"),o=a.querySelector(".bookmark-full"),l=a.closest(".article-element");if(o.classList.contains("hidden")){r.classList.add("hidden"),o.classList.remove("hidden"),l.classList.contains("dark:bg-slate-600")&&(l.classList.remove("dark:bg-slate-600"),l.classList.add("dark:bg-[#404d5f]")),l.classList.contains("bg-[#ebeff5]")&&(l.classList.remove("bg-[#ebeff5]"),l.classList.add("bg-slate-200")),this.articleH2=l.querySelector(".article-h2").innerText,e();let t=document.querySelector(".dropdown-item");this.dropdownItems?.push(t),this.bookmarkH2s=this.dropdownItems.map(e=>e?.querySelector(".bookmark-h2").textContent.trim())}else{let e=document.querySelector(".dropdown-item");this.dropdownItems.includes(e)||this.dropdownItems.push(e),this.bookmarkH2s=this.dropdownItems.map(e=>e?.querySelector(".bookmark-h2").textContent.trim()),o.classList.add("hidden"),r.classList.remove("hidden"),l.classList.contains("dark:bg-slate-600")||(l.classList.remove("dark:bg-[#404d5f]"),l.classList.add("dark:bg-slate-600")),l.classList.contains("bg-[#ebeff5]")||(l.classList.add("bg-[#ebeff5]"),l.classList.remove("bg-slate-200")),this.articleH2=l.querySelector(".article-h2").innerText;let[s]=this.bookmarkH2s.filter(e=>e===this.articleH2),[a]=this.dropdownItems.filter(e=>e?.querySelector(".bookmark-h2").textContent.trim()===s),[i]=this.dropdownItems.filter(e=>e.querySelector(".bookmark-h2").textContent.trim()===this.articleH2),n=this.dropdownItems.indexOf(i);this.dropdownItems.splice(n,1);let[d]=this.bookmarkH2s.filter(e=>e===this.articleH2),c=this.bookmarkH2s.indexOf(d);this.bookmarkH2s.splice(c,1),t(),a?.remove(),document.querySelector(".bookmark-message")||this.renderBookmarkMessage()}}})}#n(e){this.dropdownParent?.insertAdjacentHTML("afterend",this.#i(e))}#i(e){return`
         <a href="#${e.id}" class="dropdown-item text-2xl text-slate-300" style="filter: drop-shadow(0 1.5rem 2rem rgba(0, 0, 0, 0.342))">
                  <div class="grid items-center grid-cols-2 transition-all sm:grid-cols-1 hover:brightness-110">
                     <img class="object-cover w-full h-48 sm:h-28" src="${e.imageURL}" alt="">
                     <div class="p-8 bg-slate-50 dark:bg-slate-800 sm:flex sm:flex-col sm:gap-1 sm:px-12 sm:pt-5 sm:pb-7 sm:bg-white">
                        <h2 class="bookmark-h2 text-3xl transition text-slate-500 dark:text-slate-200 sm:text-2xl sm:text-slate-600">${e.title}
                        </h2>
                        <h3 class="text-lg sm:text-base text-slate-400 dark:text-[#a9b5c6]">${e.description}
                        </h3>
                     </div>
                  </div>
               </a>
      `}}var w=new v;L.upload(function(){l(L.article)}),e?.map(e=>L.render(e)),w.renderBookmarks(t),w.persistBookmarkIcon(e),w.createBookmark(function(){d(w.articleH2),w.renderBookmarks(t)},function(){c(w.articleH2)}),w.toggleDropdown(t),u.showPublishModal(),u.exitPublishModal(),f.deleteArticleMarkup(function(){i(f.articleH2text)},function(){m(f.articleH2text)}),f.deleteMessageOnLoad(e),k.loadTheme(),k.toggleTheme();
//# sourceMappingURL=index.9e14a946.js.map
